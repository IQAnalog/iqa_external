<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>IQA F1000 SDK: ADC Capture and DAC Playback</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">IQA F1000 SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('adc_dac.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">ADC Capture and DAC Playback </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="sec1"></a>
ADC Capture</h1>
<p>This section describes capturing ADC data to the SRAM and reading the data.</p>
<p>Before calling this routine, the RISC-V (Embedded Controller, or ec) must first be initialized with calibration firmware using the following API:</p>
<p><a class="el" href="iqa__ec__load__firmware_8c.html#a61bb6adf496bab10bd53c60c388326c9" title="Download RISC-V firmware to the F1000 Element Processor(s). ">iqa_ec_load_firmware()</a>;</p>
<p>After the calibration firmware has been downloaded, query the calibration done status and loop until the calibration is complete. Use the following API:</p>
<p><a class="el" href="iqa__adc__get__cal__status_8c.html#aeba156b250cd9c85eb073585c2f2891a" title="This API reads the calibration status of the specified ADC. ">iqa_adc_get_cal_status()</a>;</p>
<p>Now initiate an ADC capture operation. The number of samples must be specified for the capture in even multiples of 64, up to a maximum of 32K samples:</p>
<p><a class="el" href="iqa__init__adc__capture_8c.html#aa8d71d4b035185dc313c8518fbb1810e" title="Performs an ADC capture operation on the specified ADC. ">iqa_init_adc_capture()</a>;</p>
<p>The capture happens very quickly and there is no need to poll for completion given the SPI serial speed and protocol. It will be completed by the time the read operation is requested. Next read the desired number of samples from the ADC/DAC SRAM. The samples can be read all at once or in "chunks" using repetitive calls, incrementing the "offset" parameter with each successive call. Use the API:</p>
<p><a class="el" href="iqa__read__cap__memory_8c.html#aa0093217dc7650eaeb9cf691cfbd56c4" title="Reads data from the capture memory of F1000. ">iqa_read_cap_memory()</a>;</p>
<h1><a class="anchor" id="sec2"></a>
DAC Playback</h1>
<p>This section describes loading DAC waveform data into the ADC/DAC SRAM and initiating repeated playback.</p>
<p>To load the waveform data into the ADC/DAC memory, use the following API:</p>
<p><a class="el" href="iqa__write__cap__memory_8c.html#a463c3115bc6d586aa1ee087e2e0bb7aa" title="Writes data to the ADC/DAC capture memory of F1000. ">iqa_write_cap_memory()</a>;</p>
<p>After the memory is loaded with the samples, the following API initiates DAC to start playback of the data repeatedly.</p>
<p><a class="el" href="iqa__init__dac__playback_8c.html#a2ba38fde830f22260184ee01065fd10a" title="Performs a DAC playback operation on the specified DAC. ">iqa_init_dac_playback()</a>; </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer">
IQ-Analog Corporation</address>
</body>
</html>
